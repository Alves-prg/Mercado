<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastro e Agendamento - Minimercado Alves</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <header class="bg-primary text-white p-3 mb-4">
    <div class="container d-flex flex-wrap align-items-center justify-content-between">
      <h1 class="h3">Minimercado Alves</h1>
      <nav>
        <ul class="nav">
          <li class="nav-item"><a class="nav-link text-white" href="index.html">Início</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="frutas.html">Frutas</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="bebidas.html">Bebidas</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="limpeza.html">Limpeza</a></li>
          <li class="nav-item"><a class="nav-link text-white" href="servicos.html">Serviços</a></li>
          <li class="nav-item"><a class="nav-link text-white active" href="cadastro.html">Cadastro</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container mb-5">
    <h2>Cadastro do Cliente e Agendamento</h2>

    <form id="cadastroForm" novalidate>
      <!-- Nome -->
      <div class="mb-3">
        <label for="nome" class="form-label">Nome completo *</label>
        <input type="text" class="form-control" id="nome" name="nome" placeholder="Digite seu nome completo" required />
        <div class="invalid-feedback">Por favor, informe seu nome.</div>
      </div>

      <!-- Endereço -->
      <div class="mb-3">
        <label for="endereco" class="form-label">Endereço *</label>
        <input type="text" class="form-control" id="endereco" name="endereco" placeholder="Digite seu endereço" required />
        <div class="invalid-feedback">Por favor, informe seu endereço.</div>
      </div>

      <!-- CPF -->
      <div class="mb-3">
        <label for="cpf" class="form-label">CPF *</label>
        <input type="text" class="form-control" id="cpf" name="cpf" placeholder="000.000.000-00" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" required />
        <div class="invalid-feedback">Informe um CPF válido no formato 000.000.000-00.</div>
      </div>

      <!-- Sexo -->
      <fieldset class="mb-3">
        <legend>Sexo *</legend>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="sexo" id="sexoMasculino" value="Masculino" required />
          <label class="form-check-label" for="sexoMasculino">Masculino</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="sexo" id="sexoFeminino" value="Feminino" />
          <label class="form-check-label" for="sexoFeminino">Feminino</label>
        </div>
        <div class="invalid-feedback d-block" id="sexoFeedback">Por favor, selecione seu sexo.</div>
      </fieldset>

      <!-- Telefone -->
      <div class="mb-3">
        <label for="telefone" class="form-label">Telefone *</label>
        <input type="tel" class="form-control" id="telefone" name="telefone" placeholder="(00) 00000-0000" pattern="\(\d{2}\) \d{4,5}-\d{4}" required />
        <div class="invalid-feedback">Informe um telefone válido no formato (00) 00000-0000.</div>
      </div>

      <!-- E-mail -->
      <div class="mb-3">
        <label for="email" class="form-label">E-mail *</label>
        <input type="email" class="form-control" id="email" name="email" placeholder="seuemail@exemplo.com" required />
        <div class="invalid-feedback">Informe um e-mail válido.</div>
      </div>

      <!-- Tipo de Serviço -->
      <fieldset class="mb-3">
        <legend>Tipo de Serviço *</legend>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="servico" id="retirada" value="Retirada" required />
          <label class="form-check-label" for="retirada">Retirada no local</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="servico" id="teleEntrega" value="Tele-entrega" />
          <label class="form-check-label" for="teleEntrega">Tele-entrega</label>
        </div>
        <div class="invalid-feedback d-block" id="servicoFeedback">Selecione um tipo de serviço.</div>
      </fieldset>

      <!-- Data do Agendamento -->
      <div class="mb-3">
        <label for="dataAgendamento" class="form-label">Data do Agendamento *</label>
        <input type="date" class="form-control" id="dataAgendamento" name="dataAgendamento" required min="" />
        <div class="invalid-feedback">Por favor, selecione uma data válida.</div>
      </div>

      <!-- Hora do Agendamento -->
      <div class="mb-3">
        <label for="horaAgendamento" class="form-label">Hora do Agendamento *</label>
        <input type="time" class="form-control" id="horaAgendamento" name="horaAgendamento" required />
        <div class="invalid-feedback">Por favor, selecione uma hora válida.</div>
      </div>

      <button type="submit" class="btn btn-primary">Enviar Cadastro</button>
    </form>
  </main>

  <footer class="bg-light text-center py-3 mt-4">
    <p>&copy; 2025 Minimercado Alves | Contato: contato@hotmail.com</p>
  </footer>

  <!-- Bootstrap JS Bundle CDN -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Ajustar mínimo da data para hoje
    document.addEventListener("DOMContentLoaded", () => {
      const dataInput = document.getElementById("dataAgendamento");
      const hoje = new Date().toISOString().split("T")[0];
      dataInput.setAttribute("min", hoje);
    });

    // Validação customizada do formulário
    (function () {
      'use strict';

      const form = document.getElementById('cadastroForm');
      const sexoRadios = form.elements['sexo'];
      const servicoRadios = form.elements['servico'];

      form.addEventListener('submit', function (event) {
        // Reset mensagens customizadas
        document.getElementById('sexoFeedback').style.display = 'none';
        document.getElementById('servicoFeedback').style.display = 'none';

        let valid = form.checkValidity();

        // Validar sexo selecionado
        let sexoSelecionado = false;
        for (let radio of sexoRadios) {
          if (radio.checked) sexoSelecionado = true;
        }
        if (!sexoSelecionado) {
          document.getElementById('sexoFeedback').style.display = 'block';
          valid = false;
        }

        // Validar serviço selecionado
        let servicoSelecionado = false;
        for (let radio of servicoRadios) {
          if (radio.checked) servicoSelecionado = true;
        }
        if (!servicoSelecionado) {
          document.getElementById('servicoFeedback').style.display = 'block';
          valid = false;
        }

        if (!valid) {
          event.preventDefault();
          event.stopPropagation();
        }

        form.classList.add('was-validated');
      }, false);
    })();
  </script>
</body>
</html>
